<!doctype html><html lang=en-us><head><link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><script type=text/javascript src=https://latest.cactus.chat/cactus.js></script>
<link rel=stylesheet href=https://latest.cactus.chat/style.css type=text/css><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>RocketMQ源码阅读 开篇 | pinkhello</title><link rel=canonical href=https://pinkhello.cc/posts/24-rocketmq%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB-%E5%BC%80%E7%AF%87/><meta name=description content="👷Hey! 我是 **pinkhello**，💻 一名后端程序员。**重要提示**: 在您阅读文章并评论之前，请先认真阅读[**评论承诺**](http://pinkhello.cc/promise)。"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="RocketMQ源码阅读 开篇"><meta property="og:description" content="RocketMQ开箱源码详解-开天辟地"><meta property="og:type" content="article"><meta property="og:url" content="https://pinkhello.cc/posts/24-rocketmq%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB-%E5%BC%80%E7%AF%87/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-05-20T10:02:20+08:00"><meta property="article:modified_time" content="2021-05-20T10:02:20+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="RocketMQ源码阅读 开篇"><meta name=twitter:description content="RocketMQ开箱源码详解-开天辟地"><link rel=stylesheet href=https://pinkhello.cc/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="><link rel=stylesheet href=https://pinkhello.cc/css/pinkhello.css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://pinkhello.cc/images/favicon.ico><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-M2FXWC325L","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick='$("html, body").animate({scrollTop:0},"fast")' style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu><span id=nav><ul><li><a href=/>Home</a></li><li><a href=/posts>Posts</a></li><li><a href=/categories>Category</a></li><li><a href=/tags>Tag</a></li><li><a href=/index.xml>Rss</a></li><li><a href=/jobs>Job</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=https://pinkhello.cc/posts/22-%E5%9B%9E%E6%9C%9Bk8s-%E6%8C%81%E4%B9%85%E5%8C%96%E5%AD%98%E5%82%A8/ aria-label=Previous><i class="fas fa-chevron-left" aria-hidden=true onmouseover='$("#i-prev").toggle()' onmouseout='$("#i-prev").toggle()'></i></a></li><li><a class=icon href=https://pinkhello.cc/posts/25-rocketmq%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB-%E9%80%9A%E4%BF%A1%E7%BB%84%E4%BB%B6/ aria-label=Next><i class="fas fa-chevron-right" aria-hidden=true onmouseover='$("#i-next").toggle()' onmouseout='$("#i-next").toggle()'></i></a></li><li><a class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up" aria-hidden=true onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class=icon href=# aria-label=Share><i class="fas fa-share-alt" aria-hidden=true onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f" aria-label=Facebook><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f&text=RocketMQ%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%20%e5%bc%80%e7%af%87" aria-label=Twitter><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f&title=RocketMQ%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%20%e5%bc%80%e7%af%87" aria-label=Linkedin><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f&is_video=false&description=RocketMQ%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%20%e5%bc%80%e7%af%87" aria-label=Pinterest><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=RocketMQ%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%20%e5%bc%80%e7%af%87&body=Check out this article: https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f" aria-label=Email><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f&title=RocketMQ%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%20%e5%bc%80%e7%af%87" aria-label=Pocket><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f&title=RocketMQ%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%20%e5%bc%80%e7%af%87" aria-label=reddit><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f&name=RocketMQ%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%20%e5%bc%80%e7%af%87&description=RocketMQ%e5%bc%80%e7%ae%b1%e6%ba%90%e7%a0%81%e8%af%a6%e8%a7%a3-%e5%bc%80%e5%a4%a9%e8%be%9f%e5%9c%b0" aria-label=Tumblr><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f&t=RocketMQ%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%20%e5%bc%80%e7%af%87" aria-label="Hacker News"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">RocketMQ源码阅读 开篇</h1><div class=meta><div class=postdate><time datetime="2021-05-20 10:02:20 +0800 +0800" itemprop=datePublished>2021-05-20</time></div><div class=article-category><i class="fas fa-archive"></i>
<a class=category-link href=/categories/tech>Tech</a></div><div class=article-tag><i class="fas fa-tag"></i>
<a class=tag-link href=/tags/rocketmq rel=tag>RocketMQ</a></div></div></header><div id=toc><nav id=TableOfContents></nav></div><div class=content itemprop=articleBody><h1 id=rocketmq-是什么>RocketMQ 是什么?</h1><p><a href=http://rocketmq.apache.org/>RocketMQ</a> 是 <code>Alibaba</code> 捐赠给 <code>Apache</code> 的一款分布式、队列模型的开源消息中间件。</p><ul><li><code>Github</code> <a href=https://github.com/apache/rocketmq>https://github.com/apache/rocketmq</a></li></ul><p>从官网也能看出它的一些特性:</p><ul><li>低延迟</li><li>高可用</li><li>万亿级的消息支持</li><li>&mldr;</li></ul><h1 id=rocketmq-基本概念><code>RocketMQ</code> 基本概念</h1><p><code>RocketMQ</code> 是由 <code>Producer</code>、<code>Broker</code>、<code>Consumer</code> 三部分组成, <code>Producer</code> 负责生产 <code>Message</code>, <code>Consumer</code> 负责消费 <code>Message</code>, <code>Broker</code> 负责存储 <code>Message</code>。
每个 <code>Broker</code> 可以存储多个 <code>Topic</code> 的消息, 每个 <code>Topic</code> 的消息也可以分片存储在不同的 <code>Broker</code> 上。 <code>Message Queue</code> 用于存储消息的物理地址，每个 <code>Topic</code> 的消息地址存储于对歌 <code>Message Queue</code> 中。
<code>Consumer Group</code> 由多个 <code>Consumer</code> 实例组成。</p><ul><li><p><code>Producer</code> 负责生产消息，同步发送、异步发送、顺序发送、单向发送。同步和异步需要 <code>Broker</code> 确认信息，单向发送不需要。</p></li><li><p><code>Consumer</code> 负责消费消息，一般异步消费。一个消费者会从 <code>Broker</code> 拉取消息。（拉取式消费、推动式消费）</p></li><li><p><code>Broker Server</code> 负责存储、转发消息。 接收 <code>Producer</code> 发送来的消息并存储、同时为 <code>Consumer</code> 拉取请求做准备。当然也存储这消息相关的元数据（消费组、消费进度偏移、主题、队列消息等）</p></li><li><p><code>Name Server</code> 为消息路由的提供者。<code>Producer</code> 和 <code>Consumer</code> 能够通过 它查找各个 <code>Topic</code> 相应的 <code>Broker IP 列表</code>，多个 <code>Name Server</code> 组成集群，相互独立、没有信息交换。</p></li><li><p><code>Message</code> 消息系统所传输信息的物理载体，生产和消费数据的最小单元，每条消息必须属于一个 <code>Topic</code>, <code>RocketMQ</code> 中每个消息拥有一个唯一的 <code>MessageID</code>，且可以携带业务标识的<code>Key</code>。系统提供通过 <code>MessageId</code> 和 <code>Key</code> 查询消息的功能</p></li><li><p><code>Topic</code> 表示一类消息的集合，每个 <code>Topic</code> 包含若干条消息，每条消息智只能属于一个 <code>topic</code>，是 <code>RocketMQ</code> 进行 消息定义的基本单位。</p></li><li><p><code>Tag</code> 为消息设置的标志，用于同一个 <code>Topic</code> 下区分不同类型的消息。来自同一个业务单元的消息，可以根据不同的业务在同一个主题下设置不同的标签。Tag 能够有效的保持代码清晰度和连贯性，并优化 <code>RocketMQ</code> 的查询系统。 <code>Consumer</code> 可以根据 <code>Tag</code> 实现不同的子主题的不同消费逻辑。</p></li><li><p><code>Pull Consumer</code></p></li><li><p><code>Push Consumer</code></p></li><li><p><code>Producer Group</code></p></li><li><p><code>Consumer Group</code></p></li><li><p><code>Clustering</code></p></li><li><p><code>Broadcasting</code></p></li><li><p><code>Normal Ordered Message</code></p></li><li><p><code>Strictly Ordered Message</code></p></li></ul><h1 id=rocketmq-部署架构><code>RocketMQ</code> 部署架构</h1><p><img src=/rocketmq/rocketmq_architecture_3.png alt=RocketMQ部署架构></p><ul><li><code>Producer</code>: 消息发布决赛、支持分布式集群部署，<code>Producer</code> 通过MQ的负载均衡莫款选择相应的 <code>Broker</code> 进行消息投递。</li><li><code>Consumer</code>: 消息消费角色、支持分布式集群部署，支持<code>Push方式</code>、<code>Pull方式</code>对消息进行消费，同时也指出<code>集群方式</code>和<code>广播方式</code>进行消费。</li><li><code>Name Server</code>: <code>NameServer</code> 是一个非常简单的<code>Topic路由注册中心</code>，其角色类似Dubbo中的zookeeper，支持Broker的动态注册与发现。</li></ul><blockquote><ul><li><code>Broker管理</code>，<code>NameServer</code> 接受 <code>Broker集群</code> 的注册信息并且保存下来作为路由信息的基本数据。然后提供心跳检测机制，检查<code>Broker</code>是否还存活；</li><li><code>路由信息管理</code>, 每个 <code>NameServer</code> 将保存关于 <code>Broker</code> 集群的整个路由信息和用于客户端查询的队列信息。然后<code>Producer</code>和<code>Consumer</code> 通过 <code>NameServer</code>就可以知道整个<code>Broker集群的路由信息</code>，从而进行消息的投递和消费。
<code>NameServer</code>通常也是集群的方式部署，各实例间相互不进行信息通讯。<code>Broker</code>是向每一台<code>NameServer</code>注册自己的路由信息，所以每一个<code>NameServer</code>实例上面都保存一份完整的路由信息。当某个<code>NameServer</code>因某种原因下线了，<code>Broker</code>仍然可以向其它<code>NameServer</code>同步其路由信息，<code>Producer</code>,<code>Consumer</code>仍然可以动态感知<code>Broker</code>的路由的信息</li></ul></blockquote><p><code>RocketMQ</code> 网路部署特点:</p><ul><li><code>NameSever</code> 是无状态节点，可集群部署，节点之间无任何信息同步。<code>Broker</code> 是向每一台<code>NameServer</code>注册自己的路由信息，所以每一个<code>NameServer</code>实例上面都保存一份完整的路由信息。当某个<code>NameServer</code>因某种原因下线了，<code>Broker</code>仍然可以向其它<code>NameServer</code>同步其路由信息，<code>Producer</code>,<code>Consumer</code>仍然可以动态感知<code>Broker</code>的路由的信息。</li><li><code>Broker</code> 部署相对复杂，<code>Broker</code> 分为 <code>Master</code> 与 <code>Slave</code> ，一个<code>Master</code>可以对应多个<code>Slave</code>，但是一个<code>Slave</code>只能对应一个<code>Master</code>，<code>Master</code>与<code>Slave</code> 的对应关系通过指定相同的<code>BrokerName</code>，不同的<code>BrokerId</code> 来定义，<code>BrokerId为0</code>表示<code>Master</code>，<code>非0</code>表示<code>Slave</code>。<code>Master</code>也可以部署多个。每个<code>Broker</code>与<code>NameServer</code>集群中的所有节点建立长连接，定时注册<code>Topic</code>信息到所有<code>NameServer</code>。 注意：当前<code>RocketMQ</code>版本在部署架构上支持<code>一Master多Slave</code>，但只有<code>BrokerId=1</code>的从服务器才会参与消息的读负载。</li><li><code>Producer</code> 与 <code>NameServer</code> 集群中的其中一个节点（随机选择）建立长连接，定期从<code>NameServer</code>获取<code>Topic路由信息</code>，并向提供<code>Topic</code>服务的<code>Master</code>建立长连接，且定时向<code>Master</code>发送心跳。<code>Producer</code>完全无状态，可集群部署。</li><li><code>Consumer</code> 与 <code>NameServer</code> 集群中的其中一个节点（随机选择）建立长连接，定期从<code>NameServe</code>r获取<code>Topic路由信息</code>，并向提供<code>Topic</code>服务的<code>Master</code>、<code>Slave</code>建立长连接，且定时向<code>Master</code>、<code>Slave</code>发送心跳。<code>Consumer</code>既可以从<code>Master</code>订阅消息，也可以从<code>Slave</code>订阅消息，消费者在向<code>Master</code>拉取消息时，<code>Master</code>服务器会根据拉取偏移量与最大偏移量的距离（判断是否读老消息，产生读<code>I/O</code>），以及从服务器是否可读等因素建议下一次是从<code>Master</code>还是<code>Slave</code>拉取。</li></ul><h1 id=rocketmq--事务消息-><code>RocketMQ</code> * 事务消息 *</h1><p>后面专门一章讲述这个事务消息</p></div></article><div class=blog-post-comments><div id=disqus_thread><script type=text/javascript>(function(){var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,t="pinkhello",e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=/>Home</a></li><li><a href=/posts>Posts</a></li><li><a href=/categories>Category</a></li><li><a href=/tags>Tag</a></li><li><a href=/index.xml>Rss</a></li><li><a href=/jobs>Job</a></li></ul></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f" aria-label=Facebook><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f&text=RocketMQ%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%20%e5%bc%80%e7%af%87" aria-label=Twitter><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f&title=RocketMQ%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%20%e5%bc%80%e7%af%87" aria-label=Linkedin><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f&is_video=false&description=RocketMQ%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%20%e5%bc%80%e7%af%87" aria-label=Pinterest><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=RocketMQ%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%20%e5%bc%80%e7%af%87&body=Check out this article: https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f" aria-label=Email><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f&title=RocketMQ%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%20%e5%bc%80%e7%af%87" aria-label=Pocket><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f&title=RocketMQ%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%20%e5%bc%80%e7%af%87" aria-label=reddit><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f&name=RocketMQ%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%20%e5%bc%80%e7%af%87&description=RocketMQ%e5%bc%80%e7%ae%b1%e6%ba%90%e7%a0%81%e8%af%a6%e8%a7%a3-%e5%bc%80%e5%a4%a9%e8%be%9f%e5%9c%b0" aria-label=Tumblr><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fpinkhello.cc%2fposts%2f24-rocketmq%25E6%25BA%2590%25E7%25A0%2581%25E9%2598%2585%25E8%25AF%25BB-%25E5%25BC%2580%25E7%25AF%2587%2f&t=RocketMQ%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb%20%e5%bc%80%e7%af%87" aria-label="Hacker News"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu-toggle class=icon href=# onclick='return $("#nav-footer").toggle(),!1' aria-label=Menu><i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=share-toggle class=icon href=# onclick='return $("#share-footer").toggle(),!1' aria-label=Share><i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2022 pinkhello</div><div class=footer-right><nav><ul><li><a href=/>Home</a></li><li><a href=/posts>Posts</a></li><li><a href=/categories>Category</a></li><li><a href=/tags>Tag</a></li><li><a href=/index.xml>Rss</a></li><li><a href=/jobs>Job</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script>
<script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]},svg:{fontCache:"global"}}</script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></html>